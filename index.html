<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Search nutrition facts for your favorite foods ‚Äî calories, fat, carbs, protein, sugar, fiber and more!">
  <meta name="keywords" content="food nutrition, calories, food facts finder, nutrition info, calorie lookup">
  <meta name="theme-color" content="#1e1e1e">
  <title>Food Facts Finder ü•ó</title>

  <!-- ü•ó Emoji favicon -->
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ü•ó</text></svg>">

  <style>
    :root {
      --bg: #ffffff;
      --text: #222;
      --accent: #009578;
      --accent-hover: #007a63;
      --card-bg: #f4f4f4;
    }

    [data-theme="dark"] {
      --bg: #1e1e1e;
      --text: #e0e0e0;
      --accent: #00c98d;
      --accent-hover: #00b17b;
      --card-bg: #2a2a2a;
    }

    * {
      box-sizing: border-box;
    }

    html, body {
      height: 100%;
      margin: 0;
    }

    body {
      font-family: "Inter", sans-serif;
      background-color: var(--bg);
      color: var(--text);
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      align-items: center;
      transition: background 0.3s, color 0.3s;
    }

    header {
      padding: 24px 0 8px;
      text-align: center;
    }

    h1 {
      font-size: 1.8rem;
      margin-bottom: 4px;
    }

    .container {
      width: 100%;
      max-width: 600px;
      padding: 16px;
    }

    input {
      width: 100%;
      padding: 12px;
      border: 1px solid #ccc;
      border-radius: 10px;
      font-size: 1rem;
      margin-bottom: 16px;
      background-color: var(--card-bg);
      color: var(--text);
    }

    button {
      padding: 10px 16px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 15px;
      background: var(--accent);
      color: #fff;
      transition: background 0.3s;
    }

    button:hover {
      background: var(--accent-hover);
    }

    .result-box {
      background: var(--card-bg);
      border-radius: 12px;
      padding: 16px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      margin-top: 12px;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 8px;
      border-radius: 12px;
      overflow: hidden;
    }

    th, td {
      padding: 10px;
      border-bottom: 1px solid #4443;
      text-align: left;
    }

    th {
      background-color: var(--accent);
      color: #fff;
    }

    footer {
      width: 100%;
      text-align: center;
      padding: 20px 0;
    }

    #toggle-dark {
      background: var(--accent);
      color: #fff;
      padding: 10px 18px;
      border-radius: 8px;
      cursor: pointer;
      border: none;
      font-size: 15px;
      transition: background 0.3s;
    }

    #toggle-dark:hover {
      background: var(--accent-hover);
    }
  </style>
</head>
<body>
  <header>
    <h1>ü•ó Food Facts Finder</h1>
    <p>Search nutrition facts for any food below</p>
  </header>

  <main class="container">
    <input type="text" id="foodInput" placeholder="e.g., banana, grilled chicken, rice">
    <div id="resultBox" class="result-box">Type a food above to see nutrition facts.</div>
  </main>

  <footer>
    <button id="toggle-dark">üåì Toggle Dark Mode</button>
  </footer>

  <script>
    const foodInput = document.getElementById("foodInput");
    const resultBox = document.getElementById("resultBox");
    const darkToggle = document.getElementById("toggle-dark");

    const API_KEY = "YOUR_CALORIENINJAS_API_KEY"; // replace with your key

    async function getFoodData(food) {
      resultBox.innerHTML = "Searching...";
      try {
        const res = await fetch(`https://api.calorieninjas.com/v1/nutrition?query=${encodeURIComponent(food)}`, {
          headers: { "X-Api-Key": API_KEY }
        });
        const data = await res.json();

        if (!data.items || data.items.length === 0) {
          resultBox.innerHTML = "No results found. Try a different food.";
          return;
        }

        showResult(data.items[0]);
      } catch (err) {
        resultBox.innerHTML = "‚ö†Ô∏è Error fetching data. Please try again.";
      }
    }

    function showResult(food) {
      resultBox.innerHTML = `
        <h2>${food.name.toUpperCase()}</h2>
        <table>
          <tr><th>Nutrient</th><th>Amount (per ${food.serving_size_g || 100}g)</th></tr>
          <tr><td>Calories</td><td>${food.calories.toFixed(0)} kcal</td></tr>
          <tr><td>Protein</td><td>${food.protein_g.toFixed(1)} g</td></tr>
          <tr><td>Total Fat</td><td>${food.fat_total_g.toFixed(1)} g</td></tr>
          <tr><td>Cholesterol</td><td>${food.cholesterol_mg.toFixed(0)} mg</td></tr>
          <tr><td>Sodium</td><td>${food.sodium_mg.toFixed(0)} mg</td></tr>
          <tr><td>Total Carbohydrates</td><td>${food.carbohydrates_total_g.toFixed(1)} g</td></tr>
          <tr><td>Sugar</td><td>${food.sugar_g.toFixed(1)} g</td></tr>
          <tr><td>Fiber</td><td>${food.fiber_g.toFixed(1)} g</td></tr>
        </table>
        <button id="copyBtn">üìã Copy Nutrition</button>
        <button id="shareBtn" style="margin-left:10px;">üîó Share</button>
      `;

      const nutritionText = `
${food.name.toUpperCase()}
Calories: ${food.calories.toFixed(0)} kcal
Protein: ${food.protein_g.toFixed(1)} g
Fat: ${food.fat_total_g.toFixed(1)} g
Cholesterol: ${food.cholesterol_mg.toFixed(0)} mg
Sodium: ${food.sodium_mg.toFixed(0)} mg
Carbs: ${food.carbohydrates_total_g.toFixed(1)} g
Sugar: ${food.sugar_g.toFixed(1)} g
Fiber: ${food.fiber_g.toFixed(1)} g
Serving Size: ${food.serving_size_g || 100} g
`;

      document.getElementById("copyBtn").onclick = () => {
        navigator.clipboard.writeText(nutritionText);
        alert("Nutrition facts copied! ü•ó");
      };

      document.getElementById("shareBtn").onclick = async () => {
        const shareData = {
          title: "Food Facts Finder",
          text: nutritionText,
          url: window.location.href
        };
        if (navigator.share) {
          await navigator.share(shareData);
        } else {
          alert("Sharing not supported on this device. You can copy instead.");
        }
      };
    }

    foodInput.addEventListener("keydown", e => {
      if (e.key === "Enter") getFoodData(foodInput.value.trim());
    });

    // Dark mode toggle
    darkToggle.addEventListener("click", () => {
      const theme = document.body.getAttribute("data-theme") === "dark" ? "" : "dark";
      document.body.setAttribute("data-theme", theme);
      localStorage.setItem("theme", theme);
    });

    // Load saved theme
    if (localStorage.getItem("theme") === "dark") {
      document.body.setAttribute("data-theme", "dark");
    }
  </script>
</body>
</html>
